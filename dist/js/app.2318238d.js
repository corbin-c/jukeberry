(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);m&&m(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({list:"list"}[t]||t)+"."+{list:"4357f008"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={list:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({list:"list"}[t]||t)+"."+{list:"d6a66885"}[t]+".css",i=c.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===n||l===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var n=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[t],m.parentNode.removeChild(m),a(s)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(m);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}i[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var m=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2059:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{class:t.modal?"modal":""},[t.modal?a("div",[a("label",{attrs:{for:"create"}},[t._v("Créez une nouvelle playlist…")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"create",id:"create"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("button",{on:{click:function(e){return t.createPlaylist()}}},[a("MaterialIcon",{attrs:{icon:"queue_music"}})],1),t.list.length>0?a("p",[t._v("…ou sélectionnez-en une ci-dessous :")]):t._e()]):t._e(),a("ul",{class:t.modal?"modal":""},[!t.modal&&t.id?a("li",{staticClass:"parent"},[a("router-link",{attrs:{to:"/playlist/"}},[a("MaterialIcon",{attrs:{icon:"arrow_back"}})],1)],1):t._e(),t._l(t.list,(function(e,n){return a("PlayListItem",{key:n,attrs:{index:n,id:parseInt(e.id),modal:t.modal,path:t.path,playlistId:parseInt(t.id),name:e.name||e}})}))],2)])},r=[],i=a("1da1"),s=(a("b0c0"),a("96cf"),a("3de3")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:t.classList.join(" "),attrs:{draggable:!t.isPlaylist},on:{dragstart:t.move,dragenter:t.dragEnter,dragleave:t.dragLeave,dragend:t.hasMoved,dragover:t.dragover,drop:t.drop}},[t.isPlaylist?t._e():a("MaterialIcon",{staticClass:"order",attrs:{icon:"reorder"}}),a("span",{on:{click:function(e){return t.addToPlaylist()}}},[t._v(" "+t._s(t.fileName)+" ")]),t.isPlaylist&&!t.modal?a("div",{staticClass:"actions"},[a("button",{on:{click:function(e){return t.playList()}}},[a("MaterialIcon",{attrs:{icon:"playlist_play"}})],1),a("button",{on:{click:function(e){return t.shuffle()}}},[a("MaterialIcon",{attrs:{icon:"shuffle"},on:{click:function(e){return t.shuffle()}}})],1),a("button",{on:{click:function(e){return t.remove()}}},[a("MaterialIcon",{attrs:{icon:"delete"}})],1),a("router-link",{attrs:{to:"/playlist/"+t.id}},[a("MaterialIcon",{attrs:{icon:"view_list"}})],1)],1):t.isPlaylist||t.modal?t._e():a("div",{staticClass:"actions"},[a("button",{on:{click:function(e){return t.playSong()}}},[a("MaterialIcon",{attrs:{icon:"playlist_play"}})],1),a("button",{on:{click:function(e){return t.remove()}}},[a("MaterialIcon",{attrs:{icon:"delete"}})],1)])],1)},c=[],u=(a("caad"),a("2532"),a("4de4"),a("a9e3"),a("b01f")),l={name:"PlayListItem",data:function(){return{classList:[],isMoving:!1}},components:{MaterialIcon:s["a"]},computed:{isPlaylist:function(){return!isNaN(this.id)},fileName:function(){return this.isPlaylist?this.name:this.$root.cleanFileName(this.name)}},methods:{dragover:function(t){t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",this.classList.includes("over")||this.isMoving||this.classList.push("over")},drop:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),this.classList=[],this.$parent.organize(this.name,t.dataTransfer.getData("text/plain"))},dragEnter:function(){this.isMoving||this.classList.push("over")},dragLeave:function(){this.classList=this.classList.filter((function(t){return"over"!=t}))},move:function(t){console.log("moving"),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",this.name),this.classList.push("moving"),this.isMoving=!0},hasMoved:function(){this.classList=this.classList.filter((function(t){return"moving"!=t})),this.isMoving=!1},addToPlaylist:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.modal){e.next=6;break}return e.next=3,u["a"].addToPlaylist(t.id,t.path);case 3:a=e.sent,t.$root.hideModal(),a.error?t.$root.showNotification(a.error):t.$root.showNotification("'"+t.$root.cleanFileName(t.path)+"' a été ajouté à la playlist '"+t.name+"'");case 6:case"end":return e.stop()}}),e)})))()},remove:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Êtes-vous sûr ce vouloir supprimer cet élément ?")){e.next=2;break}return e.abrupt("return");case 2:if(!t.isPlaylist){e.next=9;break}return e.next=5,u["a"].removePlaylist(t.id);case 5:t.$parent.list=e.sent,t.$root.showNotification("La playlist '"+t.name+"' a été supprimée."),e.next=13;break;case 9:return e.next=11,u["a"].removeTrack(t.playlistId,t.name);case 11:t.$parent.list=e.sent,t.$root.showNotification("La piste '"+t.$root.cleanFileName(t.name)+"' a été supprimée de la playlist.");case 13:case"end":return e.stop()}}),e)})))()},playList:function(){u["a"].play("playlist",parseInt(this.id))},playSong:function(){u["a"].play("playlist",parseInt(this.playlistId),parseInt(this.index))},shuffle:function(){u["a"].play("playlist",parseInt(this.id),0,!0)}},props:{index:Number,id:Number,playlistId:Number,name:String,path:String,modal:Boolean}},d=l,m=(a("de9f"),a("2877")),p=Object(m["a"])(d,o,c,!1,null,"a0f03e70",null),f=p.exports,h={name:"Playlist",components:{PlayListItem:f,MaterialIcon:s["a"]},data:function(){return{name:"",list:[]}},watch:{id:function(){this.getList()}},mounted:function(){this.getList()},methods:{organize:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=a.list.indexOf(t),n.next=3,u["a"].organizePlaylist(parseInt(a.id),e,r);case 3:a.list=n.sent;case 4:case"end":return n.stop()}}),n)})))()},getList:function(){this.id?this.getPlaylist(parseInt(this.id)):this.allPlaylists()},getPlaylist:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].getPlaylist(e);case 2:a=t.sent,this.list=a;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),allPlaylists:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].allPlaylists();case 2:e=t.sent,this.list=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createPlaylist:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].createPlaylist(this.name,this.path);case 2:e=t.sent,this.list=e,this.modal&&this.$root.hideModal(),this.$root.showNotification("La playlist '"+this.name+"' a été créée.<br>'"+this.$root.cleanFileName(this.path)+"' y a été ajouté.");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},props:{id:String,path:String,modal:Boolean}},v=h,g=(a("60a2"),Object(m["a"])(v,n,r,!1,null,"658f5b07",null));e["default"]=g.exports},"30c7":function(t,e,a){},"3de3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"material-icons-outlined"},[t._v(t._s(t.icon))])},r=[],i={name:"MaterialIcon",props:{icon:String}},s=i,o=a("2877"),c=Object(o["a"])(s,n,r,!1,null,null,null);e["a"]=c.exports},"4c29":function(t,e,a){},"555a":function(t,e,a){t.exports=a.p+"img/icon.72ed350e.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("1276"),a("fb6a"),a("a15b"),a("5319");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("header",[n("figure",{on:{click:function(e){return t.showNav()}}},[n("img",{attrs:{src:a("555a")}})]),n("nav",{class:t.navShown?"shown":"hidden",on:{click:function(e){return t.showNav()}}},[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("Jukeberry")])],1),n("li",[n("router-link",{attrs:{to:"/music"}},[t._v("Musique")])],1),n("li",[n("router-link",{attrs:{to:"/radio"}},[t._v("Radio")])],1),n("li",[n("router-link",{attrs:{to:"/playlist"}},[t._v("Playlist")])],1),n("li",[n("router-link",{attrs:{to:"/search/music"}},[t._v("Recherche")])],1)])]),n("router-link",{attrs:{to:"/"}},[n("h1",[t._v("Jukeberry")])])],1),n("router-view"),n("Footer",{attrs:{status:t.status}}),n("Modal",{attrs:{shown:t.$root.modalShown,child:t.$root.modalChild,parameter:t.$root.modalParameter}}),t.$root.notificationShown?n("div",{attrs:{id:"notification"},domProps:{innerHTML:t._s(t.$root.notificationText)}}):t._e()],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shown?a("div",{attrs:{id:"modal"}},[a("div",{attrs:{id:"modal_overlay"},on:{click:function(e){return t.closeModal()}}}),a("div",{attrs:{id:"modal_content"}},[a("button",{on:{click:function(e){return t.closeModal()}}},[a("MaterialIcon",{attrs:{icon:"cancel"}})],1),a("Playlist",{attrs:{modal:!0,path:t.parameter}})],1)]):a("div",{attrs:{id:"hiddenmodal"}})},o=[],c=a("3de3"),u=a("2059"),l={name:"Modal",props:{child:String,shown:Boolean,parameter:String},methods:{closeModal:function(){this.$root.hideModal()}},components:{Playlist:u["default"],MaterialIcon:c["a"]}},d=l,m=(a("a317"),a("2877")),p=Object(m["a"])(d,s,o,!1,null,"9e7add64",null),f=p.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{class:t.status.playing&&t.status.playing.metadata&&t.isDrawerOpen?"open":"",on:{touchstart:t.touchStart,touchmove:t.touchMove}},[a("transition",{attrs:{name:"fade"}},[t.status.playing&&t.status.playing.metadata&&t.isDrawerOpen?a("Metadata",{attrs:{status:t.status}}):t._e()],1),t.status.playing&&t.status.playing.metadata?a("h2",[a("MaterialIcon",{attrs:{icon:t.icon}}),t._v(" "+t._s(t.status.playing.metadata.title||t.$root.cleanFileName(t.status.playing.metadata.filename)))],1):t._e(),a("Controls",{attrs:{status:t.status}}),a("button",{on:{click:t.toggleDrawer}},[a("MaterialIcon",{class:t.isDrawerOpen?"open":"",attrs:{icon:"expand_less",id:"expand"}})],1)],1)},v=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.status.ready?a("ul",[a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.command("prev")}}},[a("MaterialIcon",{attrs:{icon:"skip_previous"}})],1)]),a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.command("rewind")}}},[a("MaterialIcon",{attrs:{icon:"fast_rewind"}})],1)]),a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.command("togglePlay")}}},[t.status.playing&&!t.status.playing.paused?a("MaterialIcon",{attrs:{icon:"pause_circle"}}):a("MaterialIcon",{attrs:{icon:"play_circle"}})],1)]),a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.command("forward")}}},[a("MaterialIcon",{attrs:{icon:"fast_forward"}})],1)]),a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.command("next")}}},[a("MaterialIcon",{attrs:{icon:"skip_next"}})],1)]),a("li",[a("button",{attrs:{disabled:!t.status.playing},on:{click:function(e){return t.stop()}}},[a("MaterialIcon",{attrs:{icon:"stop_circle"}})],1)])]):a("ul")},y=[],b=a("b01f"),w={name:"Controls",components:{MaterialIcon:c["a"]},props:{status:status},methods:{stop:function(){b["a"].stop()},command:function(t){b["a"].sendCommand(t)}}},_=w,k=(a("6fe7"),Object(m["a"])(_,g,y,!1,null,"7dab21a2",null)),x=k.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",[a("figure",[a("img",{attrs:{src:t.currentPicture},on:{click:t.nextPicture}})]),a("dl",[t.md.album?a("dt",[a("MaterialIcon",{attrs:{icon:"album"}})],1):t._e(),t.md.album?a("dd",[t._v(" "+t._s(t.md.album)+" ")]):t._e(),t.md.artist?a("dt",[a("MaterialIcon",{attrs:{icon:"face"}})],1):t._e(),t.md.artist?a("dd",[t._v(" "+t._s(t.md.artist)+" ")]):t._e(),t.md.genre?a("dt",[a("MaterialIcon",{attrs:{icon:"speaker"}})],1):t._e(),t.md.genre?a("dd",[t._v(" "+t._s(t.md.genre.join(", "))+" ")]):t._e(),t.md.artistDetails&&(t.md.artistDetails.instruments||t.md.artistDetails.members)?a("dt",[a("MaterialIcon",{attrs:{icon:"piano"}})],1):t._e(),t.md.artistDetails&&(t.md.artistDetails.instruments||t.md.artistDetails.members)?a("dd",[t._v(" "+t._s((t.md.artistDetails.instruments||t.md.artistDetails.members).join(", "))+" ")]):t._e(),t.md.artistDetails&&t.md.artistDetails.occupations?a("dt",[a("MaterialIcon",{attrs:{icon:"emoji_symbols"}})],1):t._e(),t.md.artistDetails&&t.md.artistDetails.occupations?a("dd",[t._v(" "+t._s(t.md.artistDetails.occupations.join(", "))+" ")]):t._e(),t.md.artistDetails&&(t.md.artistDetails.birthYear||t.md.artistDetails.deathYear)?a("dt",[a("MaterialIcon",{attrs:{icon:"cake"}})],1):t._e(),t.md.artistDetails&&(t.md.artistDetails.birthYear||t.md.artistDetails.deathYear)?a("dd",[t._v(" "+t._s([t.md.artistDetails.birthYear||"…",t.md.artistDetails.deathYear||"…"].join(" – "))+" ")]):t._e(),t.md.artistDetails&&(t.md.artistDetails.startYear||t.md.artistDetails.endYear)?a("dt",[a("MaterialIcon",{attrs:{icon:"cake"}})],1):t._e(),t.md.artistDetails&&(t.md.artistDetails.startYear||t.md.artistDetails.endYear)?a("dd",[t._v(" "+t._s([t.md.artistDetails.startYear||"…",t.md.artistDetails.endYear||"…"].join(" – "))+" ")]):t._e(),t.md.artistDetails&&(t.md.artistDetails.country||t.md.artistDetails.birthplace)?a("dt",[a("MaterialIcon",{attrs:{icon:"map"}})],1):t._e(),t.md.artistDetails&&(t.md.artistDetails.country||t.md.artistDetails.birthplace)?a("dd",[t._v(" "+t._s([t.md.artistDetails.birthplace,t.md.artistDetails.country].join(", "))+" ")]):t._e(),t.md.composer?a("dt",[a("MaterialIcon",{attrs:{icon:"emoji_objects"}})],1):t._e(),t.md.composer?a("dd",[t._v(" "+t._s(t.md.composer[0])+" ")]):t._e(),t.md.artistDetails&&t.md.artistDetails.description?a("dt",[a("MaterialIcon",{attrs:{icon:"description"}})],1):t._e(),t.md.artistDetails&&t.md.artistDetails.description&&t.descriptionShown?a("dd",{on:{click:t.toggleDescription}},[t._v(" "+t._s(t.md.artistDetails.description)+" ")]):t._e(),t.md.artistDetails&&t.md.artistDetails.description&&!t.descriptionShown?a("dd",{on:{click:t.toggleDescription}},[t._v(" Description ")]):t._e(),t.md.year?a("dt",[a("MaterialIcon",{attrs:{icon:"calendar_today"}})],1):t._e(),t.md.year?a("dd",[t._v(" "+t._s(t.md.year)+" ")]):t._e(),t.md.label?a("dt",[a("MaterialIcon",{attrs:{icon:"equalizer"}})],1):t._e(),t.md.label?a("dd",[t._v(" "+t._s(t.md.label[0])+" ")]):t._e(),t.md.albumDetails&&t.md.albumDetails.studio?a("dt",[a("MaterialIcon",{attrs:{icon:"headphones"}})],1):t._e(),t.md.albumDetails&&t.md.albumDetails.studio?a("dd",[t._v(" "+t._s(t.md.albumDetails.studio)+" ")]):t._e(),t.md.albumDetails&&t.md.albumDetails.producer?a("dt",[a("MaterialIcon",{attrs:{icon:"work"}})],1):t._e(),t.md.albumDetails&&t.md.albumDetails.producer?a("dd",[t._v(" "+t._s(t.md.albumDetails.producer)+" ")]):t._e(),t.md.albumDetails&&(t.md.albumDetails.wikiUrl||t.md.artistDetails.wikiUrl)?a("dt",[a("MaterialIcon",{attrs:{icon:"auto_stories"}})],1):t._e(),t.md.albumDetails&&(t.md.albumDetails.wikiUrl||t.md.artistDetails.wikiUrl)?a("dd",t._l((t.md.albumDetails.wikiUrl||[]).concat(t.md.artistDetails.wikiUrl||[]),(function(e,n){return a("a",{key:n,attrs:{href:e}},[t._v(" "+t._s(t.wikiUrlToLabel(e))+" ")])})),0):t._e()])])},M=[],R=a("1da1"),I=a("2909"),P=(a("96cf"),a("b64b"),a("99af"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("466d"),{name:"Metadata",data:function(){return{metadata:{},md:{},pictureIndex:0,allPictures:[],gettingMetadata:!1,descriptionShown:!1}},props:{status:status},watch:{status:function(t,e){t.playing.metadata.album==e.playing.metadata.album&&t.playing.metadata.artist==e.playing.metadata.artist&&Object.keys(this.metadata).length>0||this.getMetadata()}},computed:{currentPicture:function(){return this.allPictures.length?this.allPictures[this.pictureIndex]:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Topeka-music.svg/768px-Topeka-music.svg.png"}},mounted:function(){this.getMetadata()},methods:{preparePictures:function(){var t=[];this.md.picture&&t.push(this.md.picture),this.md.albumDetails&&this.md.albumDetails.images&&(t=[].concat(Object(I["a"])(t),Object(I["a"])(this.md.albumDetails.images))),this.md.artistDetails&&this.md.artistDetails.images&&(t=[].concat(Object(I["a"])(t),Object(I["a"])(this.md.artistDetails.images))),this.allPictures=Object(I["a"])(new Set(t))},nextPicture:function(){this.pictureIndex+=1,this.pictureIndex==this.allPictures.length&&(this.pictureIndex=0)},toggleDescription:function(){this.descriptionShown=!this.descriptionShown},wikiUrlToLabel:function(t){var e=t.match(/(\w+?)(?=\.)/)[0],a=decodeURIComponent(t.split("/").slice(-1)[0].replace(/_/g," "));return a+" ["+e+"]"},getMetadata:function(){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.gettingMetadata){e.next=2;break}return e.abrupt("return");case 2:return t.allPictures=[],t.pictureIndex=0,t.md=t.status.playing.metadata,t.preparePictures(),t.gettingMetadata=!0,e.next=9,b["a"].getMetadata();case 9:t.metadata=e.sent,t.gettingMetadata=!1,t.md=t.metadata,t.preparePictures();case 13:case"end":return e.stop()}}),e)})))()}},components:{MaterialIcon:c["a"]}}),j=P,O=(a("c4ec"),Object(m["a"])(j,D,M,!1,null,"aa221dae",null)),S=O.exports,T={name:"Footer",data:function(){return{isDrawerOpen:!1,firstTouch:{x:null,y:null}}},props:{status:status},methods:{toggleDrawer:function(){this.isDrawerOpen=!this.isDrawerOpen},openDrawer:function(){this.status.playing&&this.status.playing.metadata&&(this.isDrawerOpen=!0)},closeDrawer:function(){this.isDrawerOpen=!1},getCoords:function(t){var e=t.touches[0];return{x:e.clientX,y:e.clientY}},touchStart:function(t){var e=this.getCoords(t);this.firstTouch.x=e.x,this.firstTouch.y=e.y},touchMove:function(t){if(t.preventDefault(),this.firstTouch.x&&this.firstTouch.y){var e=this.getCoords(t),a={x:this.firstTouch.x-e.x,y:this.firstTouch.y-e.y};console.log(this.firstTouch.y,e.y),Math.abs(a.x)<Math.abs(a.y)&&(a.y>0?this.openDrawer():this.closeDrawer()),this.firstTouch.x=null,this.firstTouch.y=null}}},computed:{icon:function(){if(this.status.playing){if(this.status.playing.paused)return"pause";switch(this.status.playing.mode){case"radio":return"radio";case"music":return"music_note";case"youtube":return"ondemand_video";case"video":return"movie";default:return"headphones"}}}},components:{Controls:x,MaterialIcon:c["a"],Metadata:S}},L=T,N=(a("82ab"),Object(m["a"])(L,h,v,!1,null,"25d3b1f5",null)),$=N.exports,q={name:"Jukeberry",data:function(){return{status:{},navShown:!1}},methods:{showNav:function(){this.navShown=!this.navShown}},mounted:function(){var t=this,e=new WebSocket("ws://"+window.location.host);e.onmessage=function(e){t.status=JSON.parse(e.data),console.log(JSON.parse(e.data))}},components:{Footer:$,Modal:f}},C=q,E=(a("efc4"),Object(m["a"])(C,r,i,!1,null,null,null)),A=E.exports,F=a("8c4f"),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("ul",[a("li",[a("MaterialIcon",{attrs:{icon:"music_note"}}),a("router-link",{attrs:{to:"/music"}},[t._v(" Musique ")])],1),a("li",[a("MaterialIcon",{attrs:{icon:"shuffle"}}),a("a",{attrs:{href:"#"},on:{click:function(e){return t.shuffleAll()}}},[t._v(" Aléatoire ")])],1),a("li",[a("MaterialIcon",{attrs:{icon:"radio"}}),a("router-link",{attrs:{to:"/radio"}},[t._v(" Radio ")])],1),a("li",[a("MaterialIcon",{attrs:{icon:"playlist_play"}}),a("router-link",{attrs:{to:"/playlist"}},[t._v(" Playlist ")])],1),a("li",[a("MaterialIcon",{attrs:{icon:"search"}}),a("router-link",{attrs:{to:"/search/music"}},[t._v(" Recherche ")])],1),a("li",[a("MaterialIcon",{attrs:{icon:"settings"}}),a("router-link",{attrs:{to:"/advanced"}},[t._v(" Avancé ")])],1)])])},U=[],z={name:"Home",methods:{shuffleAll:function(){b["a"].shuffleAll()}},components:{MaterialIcon:c["a"]}},J=z,B=(a("de9e"),Object(m["a"])(J,Y,U,!1,null,"16709a1e",null)),H=B.exports;n["a"].use(F["a"]);var K=[{path:"/",name:"Home",component:H},{path:"/music/:path*",name:"Music List",component:function(){return a.e("list").then(a.bind(null,"1a33"))},props:function(t){return{type:"music",path:t.params.path}}},{path:"/advanced/",name:"Advanced",component:function(){return a.e("list").then(a.bind(null,"fbe6"))}},{path:"/radio/",name:"Radio",component:function(){return a.e("list").then(a.bind(null,"b3ad"))}},{path:"/search/:context",name:"Search Form",component:function(){return a.e("list").then(a.bind(null,"2d3b"))},props:!0},{path:"/playlist/:id?",name:"Playlist",component:function(){return a.e("list").then(a.bind(null,"2059"))},props:function(t){return{modal:!1,id:t.params.id}}}],W=new F["a"]({mode:"history",base:"/",routes:K}),X=W;n["a"].config.productionTip=!1,new n["a"]({router:X,data:function(){return{modalShown:!1,modalChild:"",modalParameter:"",notificationText:"",notificationShown:!1}},methods:{cleanFileName:function(t){if(!t)return"";try{return t=t.split("/"),t=t[t.length-1],t=t.split("."),t.length>1&&(t=t.slice(0,-1)),t=t.join("."),t.replace(/_/g," ")}catch(e){return console.warn("cleanFileName failure",e),t}},showNotification:function(t){var e=this;this.notificationText=t,this.notificationShown=!0,setTimeout((function(){e.notificationShown=!1}),3500)},showModal:function(t,e){this.modalShown=!0,this.modalChild=t,this.modalParameter=e},hideModal:function(){this.modalShown=!1}},render:function(t){return t(A)}}).$mount("#app")},"5f57":function(t,e,a){},"60a2":function(t,e,a){"use strict";a("5f57")},"66e9":function(t,e,a){},"6fe7":function(t,e,a){"use strict";a("4c29")},8247:function(t,e,a){},"82ab":function(t,e,a){"use strict";a("8247")},a317:function(t,e,a){"use strict";a("ec79")},b01f:function(t,e,a){"use strict";var n=a("1da1"),r=(a("96cf"),a("d3b7"),"http://"+window.location.host+"/api"),i={makeRequest:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return t.next=3,fetch(r+e,{method:"POST",body:JSON.stringify(a)});case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,fetch(r+e);case 8:n=t.sent;case 9:if(n.ok){t.next=15;break}return t.next=12,n.text();case 12:return i=t.sent,console.warn("server error",i),t.abrupt("return",{error:i});case 15:return t.prev=15,t.next=18,n.json();case 18:n=t.sent,t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](15),console.log("no json response from server");case 24:return t.abrupt("return",n);case 25:case"end":return t.stop()}}),t,null,[[15,21]])})));function e(e,a){return t.apply(this,arguments)}return e}(),fetchFileList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/files/list",{path:"./"+(e||"")});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),search:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/search/"+e,{query:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),shuffleAll:function(){i.makeRequest("/media/play/music",{path:!1,random:!0})},play:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=s.length>3&&void 0!==s[3]&&s[3],t.next=3,i.makeRequest("/media/play/"+e,{recursive:"directory"==n,random:r,path:a,id:"playlist"===e?a:void 0,from:"playlist"===e?n:void 0});case 3:case"end":return t.stop()}}),t)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),sendCommand:function(t){i.makeRequest("/media/command",{command:t})},stop:function(){i.makeRequest("/media/stop")},allPlaylists:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/all");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),getPlaylist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/get",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),createPlaylist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/create",{name:e,song:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),addToPlaylist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/add",{id:e,song:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),removePlaylist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/delete",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),removeTrack:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/remove",{id:e,song:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),organizePlaylist:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/playlist/organize",{id:e,song:a,position:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),allRadios:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/radio/list");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),addRadio:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/radio/create",{name:e,url:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),playRadio:function(t){i.makeRequest("/radio/play",{url:t})},toggleFavoriteRadio:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/radio/toggle-favorite",{url:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),removeRadio:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/radio/delete",{url:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),regenerate:function(){i.makeRequest("/files/regenerate")},halt:function(){i.makeRequest("/media/halt")},getMetadata:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/media/metadata");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),fakeMetadata:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.makeRequest("/media/metadata/fake");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()};e["a"]=i},c107:function(t,e,a){},c4ec:function(t,e,a){"use strict";a("f2ce")},de9e:function(t,e,a){"use strict";a("66e9")},de9f:function(t,e,a){"use strict";a("30c7")},ec79:function(t,e,a){},efc4:function(t,e,a){"use strict";a("c107")},f2ce:function(t,e,a){}});
//# sourceMappingURL=app.2318238d.js.map